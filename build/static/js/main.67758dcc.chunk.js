(this["webpackJsonpreact-shop-api"]=this["webpackJsonpreact-shop-api"]||[]).push([[0],{29:function(e,t,a){e.exports=a(45)},34:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),c=a.n(l),o=(a(34),a(8)),i=a(15),s=a(13),u=a(2),m=a(3),d=a(5),h=a(4),p=a(1),v=a(6),f=r.a.createContext();f.displayName="Cart";var E=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={cartItems:[],itemsCount:0},a.addToCart=a.addToCart.bind(Object(p.a)(a)),a.removeFromCart=a.removeFromCart.bind(Object(p.a)(a)),a.deleteFromCart=a.deleteFromCart.bind(Object(p.a)(a)),a.registerItems=a.registerItems.bind(Object(p.a)(a)),a.deleteAllOnSuccessfullPurchase=a.deleteAllOnSuccessfullPurchase.bind(Object(p.a)(a)),a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){if(null!==JSON.parse(localStorage.getItem("cartItems"))){var e=JSON.parse(localStorage.getItem("cartItems")),t=e.reduce((function(e,t){return e+t.count}),0);this.setState({cartItems:e,itemsCount:t})}}},{key:"getItemsCount",value:function(){var e=this.state.cartItems.reduce((function(e,t){return e+t.count}),0);console.log(e),this.setState({itemsCount:e})}},{key:"getValidatedCart",value:function(e){return JSON.parse(localStorage.getItem(e))}},{key:"setValidatedCart",value:function(e,t){localStorage.setItem(e,JSON.stringify(t))}},{key:"registerItems",value:function(e){this.setState({cartItems:e}),localStorage.setItem("cartItems",JSON.stringify(e))}},{key:"addToCart",value:function(e){var t=this,a=this.state.cartItems,n=!1;a.forEach((function(a){a.id===e.id&&(n=!0,a.count++,t.getItemsCount())})),n||(a.push(Object(s.a)({},e,{count:1})),this.getItemsCount()),this.registerItems(a)}},{key:"removeFromCart",value:function(e,t){var a=this,n=this.state.cartItems;n.forEach((function(r){r.id===e.id&&(r.count--,a.getItemsCount(),r.count<=0&&(n.splice(t,1),a.getItemsCount()))})),this.registerItems(n)}},{key:"deleteFromCart",value:function(e){var t=this.state.cartItems;t.splice(e,1),this.registerItems(t),this.getItemsCount()}},{key:"deleteAllOnSuccessfullPurchase",value:function(){this.setState({cartItems:[],itemsCount:0}),localStorage.removeItem("validatedCart"),localStorage.removeItem("cartItems")}},{key:"render",value:function(){var e=Object(s.a)({},this.state,{addToCart:this.addToCart,removeFromCart:this.removeFromCart,deleteFromCart:this.deleteFromCart,setValidatedCart:this.setValidatedCart,getValidatedCart:this.getValidatedCart,deleteAllOnSuccessfullPurchase:this.deleteAllOnSuccessfullPurchase});return r.a.createElement(f.Provider,{value:e},this.props.children)}}]),t}(n.Component),b=f.Consumer,g=Object(i.g)((function(e){var t=localStorage.getItem("token");return r.a.createElement("div",{className:"main-nav "},r.a.createElement("div",{className:"brand"},r.a.createElement(o.c,{to:"/"}," ",r.a.createElement("strong",null,"React Shop Api"))),r.a.createElement("nav",null,r.a.createElement(o.c,{to:"/",activeClassName:"/"===e.location.pathname?"active":""},"Boutique"),r.a.createElement(b,null,(function(a){return r.a.createElement(o.c,{to:null===t?"/connexion":"/commande",activeClassName:"/commande"===e.location.pathname?"active":""},r.a.createElement("span",null,"\ud83d\udecd",r.a.createElement("small",null,"(",a.itemsCount,")")))})),r.a.createElement(o.c,{to:"/mon-compte",activeClassName:"/mon-compte"===e.location.pathname?"active":""},"Mon Compte")))})),y=a(10),C=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={errors:[],validatedCart:[]},a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"handleAddToCart",value:function(e){this.context.addToCart(e)}},{key:"handleRemoveFromCart",value:function(e,t){this.context.removeFromCart(e,t)}},{key:"handleDeleteFromCart",value:function(e){this.context.deleteFromCart(e)}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=document.querySelectorAll(".form-group"),n=[];a.forEach((function(e,r){var l=t.state.validatedCart;if(""===e.children[2].children[0].value)return n.push("la taille n'a pas \xe9t\xe9 confirm\xe9e pour: ".concat(e.children[1].children[0].value)),t.setState({errors:n}),n;if(l.find((function(t){return t.itemId===e.children[0].children[0].value&&t.itemCount!==e.children[3].children[1].value})))l[r].itemCount=e.children[3].children[1].value;else if(l.find((function(t){return t.itemId===e.children[0].children[0].value})))n.duplicate=["duplicate"];else{var c,o={};c={},Object(y.a)(c,e.children[0].children[0].name,e.children[0].children[0].value),Object(y.a)(c,e.children[1].children[0].name,e.children[1].children[0].value),Object(y.a)(c,e.children[2].children[0].name,e.children[2].children[0].value),Object(y.a)(c,e.children[3].children[1].name,e.children[3].children[1].value),Object(y.a)(c,e.children[5].children[0].name,e.children[5].children[0].value),o=c,l.push(o),t.setState({validatedCart:l,errors:[]}),a.length===l.length&&(t.context.setValidatedCart("validatedCart",t.state.validatedCart),t.props.history.push("/paiement"))}}))}},{key:"render",value:function(){var e=this,t=localStorage.getItem("token");return r.a.createElement(b,null,(function(a){var n=Object(s.a)({},a).cartItems,l=e.state.errors;return r.a.createElement("main",{id:"cart-validation"},r.a.createElement("header",null,r.a.createElement("h1",null,"Valider ma commande")),n.length<1&&r.a.createElement("section",null,r.a.createElement("p",null,"Aucun article dans votre panier")),n.length>0&&r.a.createElement("section",null,l.length>0&&l.map((function(e,t){return r.a.createElement("p",{key:t,className:"error-message"},e)})),r.a.createElement("form",{onSubmit:e.handleSubmit},n.map((function(t,a){var n=[];for(var l in t.availableSizes)n.push(t.availableSizes[l].size);return r.a.createElement("div",{className:"form-group",key:t.id},r.a.createElement("p",null,r.a.createElement("input",{type:"hidden",name:"itemId",value:t.id})),r.a.createElement("p",null,r.a.createElement("input",{type:"text",name:"itemTitle",value:t.title,disabled:!0})),r.a.createElement("p",null,r.a.createElement("select",{name:"selectedSize"},r.a.createElement("option",{value:""},"taille"),n.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)})))),r.a.createElement("p",{className:"count"},r.a.createElement("span",{onClick:e.handleRemoveFromCart.bind(e,t,a)},"\u229d"),r.a.createElement("input",{type:"text",name:"itemCount",value:t.count,disabled:!0}),r.a.createElement("span",{onClick:e.handleAddToCart.bind(e,t)},"\u2295")),r.a.createElement("p",null,r.a.createElement("input",{type:"text",name:"itemPrice",value:new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format((t.count*t.price).toFixed(2)),disabled:!0})),r.a.createElement("p",null,r.a.createElement("input",{type:"hidden",name:"itemPrice",value:t.price,disabled:!0})),r.a.createElement("p",null,r.a.createElement("span",{className:"trash",onClick:e.handleDeleteFromCart.bind(e,a)},"\ud83d\uddd1")))})),null===t?r.a.createElement(o.b,{to:"connexion",className:"submit-connect"},"Se Connecter"):r.a.createElement("input",{type:"submit",value:"Valider le Panier"}))))}))}}]),t}(n.Component);C.contextType=f;var O=r.a.createContext();O.displayName="Product";var S=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={products:[]},a.getProductList=a.getProductList.bind(Object(p.a)(a)),a.getSingleProduct=a.getSingleProduct.bind(Object(p.a)(a)),a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getProductList()}},{key:"getProductList",value:function(){var e=this;fetch("http://localhost/shop-api/api/v1/products").then((function(e){return e.json()})).then((function(t){return e.setState({products:t})}))}},{key:"getSingleProduct",value:function(e){return fetch("http://localhost/shop-api/api/v1/products/".concat(e)).then((function(e){return e.json()})).then((function(e){return e}))}},{key:"render",value:function(){var e=Object(s.a)({},this.state,{getSingleProduct:this.getSingleProduct});return r.a.createElement(O.Provider,{value:e},this.props.children)}}]),t}(n.Component),j=O.Consumer,k=function(e){var t=e.products,a=e.addToCart,n=function(e){a(e)};return r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement("article",{key:e.id,className:"product-card"},r.a.createElement("h3",{className:"product-card__header"},e.title," "),r.a.createElement("div",{className:"product-card__body"},r.a.createElement(o.b,{to:"/details/".concat(e.id)},r.a.createElement("img",{src:e.images[0].url,alt:""})),r.a.createElement("div",{className:"sizes"},r.a.createElement("p",null,"Tailles disponibles:"),e.availableSizes.map((function(e){return r.a.createElement("span",{key:e.id},e.size.toLowerCase()," ")})))),r.a.createElement("div",{className:"product-card__footer"},r.a.createElement("p",null,new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(e.price)),r.a.createElement("span",{role:"img","aria-label":"caddie",onClick:n.bind(void 0,e)},"\ud83d\uded2")))})))},w=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(b,null,(function(e){return r.a.createElement(j,null,(function(t){return r.a.createElement("main",null,r.a.createElement("header",null,r.a.createElement("h1",null,"Boutique")),r.a.createElement("section",{id:"shop"},r.a.createElement(k,{products:t.products,addToCart:e.addToCart})))}))}))}}]),t}(n.Component),I=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={product:{}},a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;fetch("http://localhost/shop-api/api/v1/products/".concat(t)).then((function(e){return e.json()})).then((function(t){return e.setState({product:t})}))}},{key:"render",value:function(){var e,t,a=this.state.product;for(var n in a.images)e=a.images[0].url,t=a.images[0].name;var l=[];for(var c in a.availableSizes)l.push(a.availableSizes[c].size+"");return r.a.createElement("main",{id:"single-product"},r.a.createElement("header",null,r.a.createElement(o.b,{to:"/"}," << Retour"),r.a.createElement("h1",null,"D\xe9tails ",a.title," ")),r.a.createElement("section",null,r.a.createElement("div",{className:"single-product__body"},r.a.createElement("img",{src:e,alt:t}),r.a.createElement("p",null,a.description," "),r.a.createElement("p",null,"Tailles disponibles"),r.a.createElement("p",null," ",l.map((function(e,t){return r.a.createElement("span",{key:t},e," ")})))),r.a.createElement("div",{className:"single-product__footer"},r.a.createElement("p",null,new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(a.price)),r.a.createElement("span",{role:"img","aria-label":"caddie"},"\ud83d\uded2"))))}}]),t}(n.Component);I.contextType=O;var N=a(27),x=a.n(N),T=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;console.log("new");var t=this.context.getValidatedCart("validatedCart"),a=t.reduce((function(e,t){return e+t.itemPrice*t.itemCount}),0);return r.a.createElement("main",{id:"checkout"},r.a.createElement("header",null,r.a.createElement("h1",null,"R\xe9gler ma commande")),r.a.createElement("section",null,r.a.createElement("ul",{className:"item-line__header"},r.a.createElement("li",null,"D\xe9signation"),r.a.createElement("li",null,"Taille"),r.a.createElement("li",null,"Qt\xe9 x PU"),r.a.createElement("li",null,"Total")),t.map((function(e,t){return r.a.createElement("ul",{className:"item-line",key:t},r.a.createElement("li",null,e.itemTitle),r.a.createElement("li",null,e.selectedSize),r.a.createElement("li",null,e.itemCount,"x ",e.itemPrice),r.a.createElement("li",null,e.itemCount*e.itemPrice))})),r.a.createElement("h3",null,"Montant \xe0 r\xe9gler:"," ",a.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})),r.a.createElement(x.a,{client:{sandbox:"ARfF7X6QHlMiDMt-dQSu4Xi0cz5u7vQm55mRI3EmZkf5S7XFlds_EkoMu2U0tC77S1TNoPtdZF8q9Ar1",production:"YOUR-PRODUCTION-APP-ID"},env:"sandbox",currency:"EUR",total:a.toFixed(2),onError:function(e){console.log("Error!",e)},onSuccess:function(a){var n=JSON.parse(localStorage.getItem("token"));fetch("http://localhost/shop-api/api/v1/ordres/creer",{method:"POST",body:JSON.stringify({token:n,paymentStatus:a.paid,paymentId:a.paymentID,validatedCart:t})}).then((function(e){return e.json()})).then((function(t){"success"===t.status&&(e.context.deleteAllOnSuccessfullPurchase(),e.props.history.push("/mon-compte"))})).catch((function(e){console.log(e)}))}})))}}]),t}(n.Component),P=T;T.contextType=f;var F=a(17),_=a.n(F),A=a(18),D=r.a.createContext();D.displayName="User";var R=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={isAuthenticated:null,user:{}},a.setToken=a.setToken.bind(Object(p.a)(a)),a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getTokenData()}},{key:"getTokenData",value:function(){if(null!==localStorage.getItem("token")){var e=JSON.parse(localStorage.getItem("token")),t=JSON.parse(atob(e.split(".")[1])),a=(new Date).getTime()/1e3;t.exp-a>0?this.setState({isAuthenticated:!0,user:t.user}):(this.setState({isAuthenticated:!1,user:{}}),localStorage.removeItem("token"))}}},{key:"setToken",value:function(e){localStorage.setItem("token",JSON.stringify(e)),this.getTokenData()}},{key:"render",value:function(){var e=Object(s.a)({},this.state,{setToken:this.setToken});return r.a.createElement(D.Provider,{value:e},this.props.children)}}]),t}(n.Component),J=D.Consumer,M=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={email:"",password:"",errors:[]},a.handleChange=a.handleChange.bind(Object(p.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(y.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(){var e=Object(A.a)(_.a.mark((function e(t){var a,n,r,l,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={email:this.state.email,password:this.state.password},e.next=4,fetch("http://localhost/shop-api/api/v1/acces/connecter",{method:"POST",body:JSON.stringify(a)}).catch((function(e){return console.log(e)}));case 4:return n=e.sent,e.next=7,n.json();case 7:(r=e.sent).errors&&(l=r.errors,this.setState({errors:l})),r.token&&(c=r.token).startsWith("Bearer ")&&(this.context.setToken(c),this.props.history.push("/mon-compte"));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("main",{id:"connexion"},r.a.createElement("header",null,r.a.createElement("h1",null,"Connexion")),r.a.createElement("section",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email"," ",e.email&&r.a.createElement("span",{className:"error"}," \u26a0 ",e.email)),r.a.createElement("input",{type:"text",name:"email",id:"email",placeholder:"Entrer votre email",onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Mot de passe"," ",e.password&&r.a.createElement("span",{className:"error"}," \u26a0 ",e.password)),r.a.createElement("input",{type:"password",name:"password",id:"password",placeholder:"Entrer votre mot de passe",onChange:this.handleChange,autoComplete:"false"})),r.a.createElement("input",{type:"submit",value:"Se Connecter"})," "),r.a.createElement("p",null,"Pas enregistrer ? ",r.a.createElement(o.b,{to:"/inscription"},"Je cr\xe9er mon Compte"))))}}]),t}(n.Component);M.contextType=D;var z=a(28),U=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.component,n=Object(z.a)(t,["component"]),l=localStorage.getItem("token");return r.a.createElement(i.b,Object.assign({},n,{render:function(t){return l?r.a.createElement(a,Object.assign({},t,{user:e.context.user})):r.a.createElement(i.a,{to:"/connexion"})}}))}}]),t}(n.Component),V=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={isAuthenticated:null,user:{},orders:[]},a.logout=a.logout.bind(Object(p.a)(a)),a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"getMyOrders",value:function(){var e=this,t=this.context.user.email;fetch("http://localhost/shop-api/api/v1/ordres/mes-ordres",{method:"POST",mode:"cors",body:JSON.stringify({email:t})}).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then((function(t){e.setState((function(){return{orders:t}}))})).catch((function(e){return console.log(e)}))}},{key:"logout",value:function(){localStorage.removeItem("token"),this.props.history.push("/")}},{key:"render",value:function(){this.getMyOrders();var e=this.state.orders;return r.a.createElement("main",{id:"orders-summary"},r.a.createElement("header",null,r.a.createElement("h1",null,"Mes Ordres"),r.a.createElement("p",{onClick:this.logout},"D\xe9connexion")),r.a.createElement("section",null,e.length>0&&e.map((function(e,t){return r.a.createElement("article",{key:t},r.a.createElement("p",null,"Achat du:",r.a.createElement("span",null,e.created_at," ")),r.a.createElement("p",null,"Status:"," ",r.a.createElement("small",null," ",e.payment_status?"Pay\xe9":"Inconnu"," ")),r.a.createElement("p",null,"ID:",r.a.createElement("small",null,e.payment_id," ")),r.a.createElement("details",null,r.a.createElement("summary",null,"Voir le d\xe9tail"),r.a.createElement("p",{key:"-1"},r.a.createElement("span",null,"Produit"),r.a.createElement("span",null,"Taille"),r.a.createElement("span",null,"Qt\xe9"),r.a.createElement("span",null,"Prix")),r.a.createElement("hr",null),e.lines.map((function(e,t){return r.a.createElement("p",{key:t},r.a.createElement("span",null,e.product_title),r.a.createElement("span",null,e.product_size," "),r.a.createElement("span",null,e.product_count," "),r.a.createElement("span",null,e.product_price," "))}))))}))))}}]),t}(n.Component);V.contextType=D;var W=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={name:"",email:"",password:"",password_confirm:"",errors:[]},a.handleChange=a.handleChange.bind(Object(p.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(y.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(){var e=Object(A.a)(_.a.mark((function e(t){var a,n,r,l;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={name:this.state.name,email:this.state.email,password:this.state.password,password_confirm:this.state.password_confirm},e.next=4,fetch("http://localhost/shop-api/api/v1/acces/enregistrer",{method:"POST",body:JSON.stringify(a)}).catch((function(e){return console.log(e)}));case 4:return n=e.sent,e.next=7,n.json();case 7:(r=e.sent).errors&&(l=r.errors,this.setState({errors:l})),r.success&&this.props.history.push("/connexion");case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("main",{id:"inscription"},r.a.createElement("header",null,r.a.createElement("h1",null,"Inscription")),r.a.createElement("section",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Nom"," ",e.name&&r.a.createElement("span",{className:"error"}," \u26a0 ",e.name)),r.a.createElement("input",{type:"text",name:"name",id:"name",placeholder:"Entrer votre email",onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email"," ",e.email&&r.a.createElement("span",{className:"error"}," \u26a0 ",e.email)),r.a.createElement("input",{type:"email",name:"email",id:"email",placeholder:"Entrer votre email",onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Mot de passe"," ",e.password&&r.a.createElement("span",{className:"error"}," \u26a0 ",e.password)),r.a.createElement("input",{type:"password",name:"password",id:"password",placeholder:"Entrer votre mot de passe",onChange:this.handleChange,autoComplete:"false"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password_confirm"},"Confirmer le mot de passe",e.password_confirm&&r.a.createElement("span",{className:"error"}," \u26a0 ",e.password)),r.a.createElement("input",{type:"password",name:"password_confirm",id:"password_confirm",placeholder:"Entrer votre mot de passe",onChange:this.handleChange,autoComplete:"false"})),r.a.createElement("input",{type:"submit",value:"S'inscrire"})," ")))}}]),t}(n.Component);var L=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(o.a,null,r.a.createElement(g,null),r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",component:w}),r.a.createElement(i.b,{exact:!0,path:"/commande",component:C}),r.a.createElement(i.b,{exact:!0,path:"/details/:id",component:I}),r.a.createElement(i.b,{path:"/connexion",component:M}),r.a.createElement(i.b,{path:"/inscription",component:W}),r.a.createElement(U,{path:"/mon-compte",component:V}),r.a.createElement(U,{path:"/paiement",component:P}))))},B=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Q(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement(R,null,r.a.createElement(J,null,(function(e){return r.a.createElement(E,null,r.a.createElement(S,null,r.a.createElement(L,{userState:e})))}))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");B?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Q(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Q(t,e)}))}}()}},[[29,1,2]]]);
//# sourceMappingURL=main.67758dcc.chunk.js.map